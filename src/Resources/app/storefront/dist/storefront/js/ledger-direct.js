"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["ledger-direct"],{5150:(t,e,n)=>{var i=n(6285),s=n(3206),a=n(8254);const c=window.PluginManager;class o extends i.Z{init(){window.DomAccess=s.Z,this.client=new a.Z,this.copyDestinationAccountInput=s.Z.querySelector(document,"#destination-account"),this.copyDestinationTagInput=s.Z.querySelector(document,"#destination-tag"),this.checkPaymentButton=s.Z.querySelector(document,"#check-payment-button"),this.spinner=s.Z.querySelector(this.checkPaymentButton,"span"),this.registerEvents(),window.ldPlugin=this}registerEvents(){this.copyDestinationAccountInput.nextElementSibling.addEventListener("click",this.copyToClipboard.bind(this,this.copyDestinationAccountInput)),this.copyDestinationTagInput.nextElementSibling.addEventListener("click",this.copyToClipboard.bind(this,this.copyDestinationTagInput)),this.checkPaymentButton.addEventListener("click",this.fetchPaymentData.bind(this))}fetchPaymentData(){const t=this.checkPaymentButton.dataset.orderId;this.spinner.style.display="inline-block",this.checkPaymentButton.disabled=!0,this.client.get("/ledger-direct/payment/check/"+t,this.handlePaymentData.bind(this),"application/json",!0)}handlePaymentData(t){JSON.parse(t).success?location.reload():(this.spinner.style.display="none",this.checkPaymentButton.disabled=!1)}copyToClipboard(t,e){console.log("cop-to-clipboard"),navigator.clipboard.writeText(t.value)}}c.register("XrpPayment",o,"[data-xrp-payment-page]")}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return e=5150,t(t.s=e);var e}));t.O()}]);